{"ast":null,"code":"import _classCallCheck from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/billbuff/projects/academy/capstone/ProperT-react/src/components/Dropdown.jsx\";\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Dropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { fetchRentals } from '../store/actions/rentalsActions';\nimport '../styles/Nav.css';\n\nvar NavbarDropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavbarDropdown, _Component);\n\n  function NavbarDropdown(props) {\n    var _this;\n\n    _classCallCheck(this, NavbarDropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NavbarDropdown).call(this, props));\n\n    _this.toggleList = function () {\n      var listOpen = _this.state.listOpen;\n\n      _this.setState({\n        listOpen: !listOpen\n      });\n    };\n\n    _this.selectItem = function (rental) {\n      var _this$props = _this.props,\n          updateCurrentRental = _this$props.updateCurrentRental,\n          toggleNav = _this$props.toggleNav;\n\n      _this.toggleList();\n\n      toggleNav();\n      updateCurrentRental(rental);\n    };\n\n    _this.state = {\n      listOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(NavbarDropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var fetchRentals = this.props.fetchRentals;\n      fetchRentals();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props2 = this.props,\n          rentals = _this$props2.rentals.rentals,\n          isLoggedIn = _this$props2.isLoggedIn,\n          fetchRentals = _this$props2.fetchRentals;\n      var prevRentals = prevProps.rentals.rentals; // eslint-disable-next-line no-multi-spaces\n\n      var propsComparisonResult = _.isEqual(rentals, prevRentals);\n\n      if (!propsComparisonResult || prevProps.isLoggedIn !== isLoggedIn) {\n        fetchRentals();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var rentals = this.props.rentals.rentals;\n      var listOpen = this.state.listOpen;\n      return React.createElement(Dropdown, {\n        nav: true,\n        inNavbar: true,\n        isOpen: listOpen,\n        toggle: this.toggleList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(DropdownToggle, {\n        nav: true,\n        caret: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, rentals.length > 0 ? 'Select Rental' : 'No Properties'), React.createElement(DropdownMenu, {\n        style: {\n          background: '#989b9e'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, listOpen && rentals.map(function (item) {\n        var id = item._id;\n        return React.createElement(Link, {\n          to: \"/rentals/\".concat(id),\n          id: \"dropdown-item\",\n          className: \"dropdown-item text-center\",\n          key: id,\n          onClick: function onClick() {\n            return _this2.selectItem(item);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, item.address1);\n      })));\n    }\n  }]);\n\n  return NavbarDropdown;\n}(Component);\n\nNavbarDropdown.propTypes = {\n  rentals: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number.isRequired])).isRequired).isRequired,\n  updateCurrentRental: PropTypes.func.isRequired,\n  toggleNav: PropTypes.func.isRequired,\n  fetchRentals: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    rentals: state.rentals\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchRentals: fetchRentals\n})(NavbarDropdown);","map":{"version":3,"sources":["/Users/billbuff/projects/academy/capstone/ProperT-react/src/components/Dropdown.jsx"],"names":["React","Component","_","PropTypes","connect","Dropdown","DropdownToggle","DropdownMenu","Link","fetchRentals","NavbarDropdown","props","toggleList","listOpen","state","setState","selectItem","rental","updateCurrentRental","toggleNav","prevProps","rentals","isLoggedIn","prevRentals","propsComparisonResult","isEqual","length","background","map","item","id","_id","address1","propTypes","arrayOf","objectOf","oneOfType","string","number","isRequired","func","mapStateToProps"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Dropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { fetchRentals } from '../store/actions/rentalsActions';\nimport '../styles/Nav.css';\n\nclass NavbarDropdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    const { fetchRentals } = this.props;\n    fetchRentals();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { rentals: { rentals }, isLoggedIn, fetchRentals } = this.props;\n    const { rentals: { rentals: prevRentals } } = prevProps;\n    // eslint-disable-next-line no-multi-spaces\n    const propsComparisonResult =  _.isEqual(rentals, prevRentals);\n    if (!propsComparisonResult || prevProps.isLoggedIn !== isLoggedIn) {\n      fetchRentals();\n    }\n    return null;\n  }\n\n  toggleList = () => {\n    const { listOpen } = this.state;\n    this.setState({ listOpen: !listOpen });\n  }\n\n  selectItem = (rental) => {\n    const { updateCurrentRental, toggleNav } = this.props;\n    this.toggleList();\n    toggleNav();\n    updateCurrentRental(rental);\n  }\n\n  render() {\n    const { rentals: { rentals } } = this.props;\n    const { listOpen } = this.state;\n    return (\n      <Dropdown nav inNavbar isOpen={listOpen} toggle={this.toggleList}>\n        <DropdownToggle nav caret>\n          { rentals.length > 0 ? 'Select Rental' : 'No Properties' }\n        </DropdownToggle>\n        <DropdownMenu style={{ background: '#989b9e' }}>\n          {\n            listOpen && (\n              rentals.map((item) => {\n                const { _id: id } = item;\n                return (\n                  <Link to={`/rentals/${id}`} id=\"dropdown-item\" className=\"dropdown-item text-center\" key={id} onClick={() => this.selectItem(item)}>\n                    {item.address1}\n                  </Link>\n                );\n              })\n            )}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nNavbarDropdown.propTypes = {\n  rentals: PropTypes.arrayOf(\n    PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number.isRequired,\n      ]),\n    ).isRequired,\n  ).isRequired,\n  updateCurrentRental: PropTypes.func.isRequired,\n  toggleNav: PropTypes.func.isRequired,\n  fetchRentals: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  rentals: state.rentals,\n});\n\nexport default connect(mapStateToProps, { fetchRentals })(NavbarDropdown);\n"]},"metadata":{},"sourceType":"module"}