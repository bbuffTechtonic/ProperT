{"ast":null,"code":"import _regeneratorRuntime from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/billbuff/projects/academy/capstone/ProperT-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\n/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\nimport { FETCH_RENTALS } from '../types';\n\nvar fetchRentalsAction = function fetchRentalsAction(rentals) {\n  return {\n    type: FETCH_RENTALS,\n    rentals: rentals\n  };\n};\n\nexport var fetchRentals = function fetchRentals() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('http://127.0.0.1:3001/rentals', {\n                  headers: {\n                    'x-access-token': sessionStorage.getItem('jwt_token')\n                  }\n                }).then(function (rentals) {\n                  dispatch(fetchRentalsAction(rentals));\n                }) // eslint-disable-next-line no-console\n                .catch(function (err) {\n                  return console.error(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\n\nvar getData = function getData(url) {\n  return fetch(url, {\n    headers: {\n      'x-access-token': sessionStorage.getItem('jwt_token')\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (rentals) {\n    return rentals;\n  });\n};","map":{"version":3,"sources":["/Users/billbuff/projects/academy/capstone/ProperT-react/src/store/actions/rentalsActions.js"],"names":["axios","FETCH_RENTALS","fetchRentalsAction","rentals","type","fetchRentals","dispatch","get","headers","sessionStorage","getItem","then","catch","err","console","error","getData","url","fetch","res","json"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,UAA9B;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,OAAO;AAAA,SAAK;AACrCC,IAAAA,IAAI,EAAEH,aAD+B;AAErCE,IAAAA,OAAO,EAAPA;AAFqC,GAAL;AAAA,CAAlC;;AAKA,OAAO,IAAME,YAAY,GAAG,SAAfA,YAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAM,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC1BN,KAAK,CACRO,GADG,CACC,+BADD,EACkC;AACpCC,kBAAAA,OAAO,EAAE;AAAE,sCAAkBC,cAAc,CAACC,OAAf,CAAuB,WAAvB;AAApB;AAD2B,iBADlC,EAIHC,IAJG,CAIE,UAACR,OAAD,EAAa;AACjBG,kBAAAA,QAAQ,CAACJ,kBAAkB,CAACC,OAAD,CAAnB,CAAR;AACD,iBANG,EAON;AAPM,iBAQHS,KARG,CAQG,UAAAC,GAAG;AAAA,yBAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,iBARN,CAD0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB;;AAYP,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAAAC,GAAG;AAAA,SAAIC,KAAK,CAACD,GAAD,EAAM;AAChCT,IAAAA,OAAO,EAAE;AAAE,wBAAkBC,cAAc,CAACC,OAAf,CAAuB,WAAvB;AAApB;AADuB,GAAN,CAAL,CAGpBC,IAHoB,CAGf,UAAAQ,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GAHY,EAIpBT,IAJoB,CAIf,UAAAR,OAAO;AAAA,WAAIA,OAAJ;AAAA,GAJQ,CAAJ;AAAA,CAAnB","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\nimport { FETCH_RENTALS } from '../types';\n\nconst fetchRentalsAction = rentals => ({\n  type: FETCH_RENTALS,\n  rentals,\n});\n\nexport const fetchRentals = () => async (dispatch) => {\n  await axios\n    .get('http://127.0.0.1:3001/rentals', {\n      headers: { 'x-access-token': sessionStorage.getItem('jwt_token') },\n    })\n    .then((rentals) => {\n      dispatch(fetchRentalsAction(rentals));\n    })\n  // eslint-disable-next-line no-console\n    .catch(err => console.error(err));\n};\n\nconst getData = url => fetch(url, {\n  headers: { 'x-access-token': sessionStorage.getItem('jwt_token') },\n})\n  .then(res => res.json())\n  .then(rentals => rentals);\n"]},"metadata":{},"sourceType":"module"}